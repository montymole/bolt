function Bolt(t,e,r){this.obj=t,this.view=e,this.el=r;for(var n in t)this.screw(n);this.refresh()}function getBlogs(t){function e(t){return new Bolt(t,v.blog,"#app")}API.blogger.getBlogs(t,function(t,r){if(t.error)blogModel={error:v.error(t.error)};else{blogModel=r=e(t.shift());for(var n=0;n<t.length;n++)r.screw("next"),r.next=e(t[n]),r=r.next;blogModel.refresh()}})}function init(){getBlogs(10)}var lt=function(t,e,r,n){r=e.length,n="";for(var o=0;r>o;o++)n+=v[t](e[o]);return n},t=function(t,e){return function(r,n){return t.replace(/#{([^}]*)}/g,function(t,o){return Function("x","with(x)return "+o).call(r,n||e||{})})}},$=function(t,e){return t=t.match(/^(\W)?(.*)/),(e||document)["getElement"+(t[1]?"#"==t[1]?"ById":"sByClassName":"sByTagName")](t[2])},$A=function(t,e,r){for(;e.length;)r=e.shift(),t[r]=$("#"+r)},m=function(t,e,r){for(e=document,r=e.createElement("p"),r.innerHTML=t,t=e.createDocumentFragment();e=r.firstChild;)t.appendChild(e);return t},j=function(t){for(t=0;4>t;t++)try{return t?new ActiveXObject([,"Msxml2","Msxml3","Microsoft"][t]+".XMLHTTP"):new XMLHttpRequest}catch(e){}},tpl={blog:"<div id=\"#{this.eid}\">#{this.error ? this.error : ''}<h1>#{this.title}</h1><p>#{this.content}</p></div><hr>#{this.next ? this.next : ''}",error:'<div class="error"><b>#{this.code}</b> : #{this.message}</div>',simple:'<div id="#{this.id}" style="background-color:#{this.color}"><h1>#{this.title}</h1><p>#{this.content}</p><a href="#{this.link}">#{this.link}</a> #{this.subitem ? this.subitem : \'\'}</div>'},API_KEY="AIzaSyA4GRhEujHG7CPcQBGQhPJ3ffthXBw2uOs",BLOG_ID="6506288147786344967",API={debugCb:function(t){console.log(t)},getUrl:function(t,e,r){e||(e=API.debugCb),r=j(),r.cb=e,r.onreadystatechange=API.handleStateChanges,r.open("GET",t,!0),r.send()},handleStateChanges:function(){4==this.readyState&&this.cb(JSON.parse(this.responseText))}};API.blogger={url:{blogs:t("http://localhost:8080/blogs/#{this.num}"),blogsReal:t("https://www.googleapis.com/blogger/v2/blogs/#{this.blogId}&key=#{this.key}")},getBlogs:function(t,e){API.getUrl(API.blogger.url.blogs({num:t,key:API_KEY,blogId:BLOG_ID}),e)}};var autoRefresh=!1;Bolt.prototype.screw=function(t){this.__defineSetter__(t,function(e){this.obj[t]=e,autoRefresh&&this.refresh()}),this.__defineGetter__(t,function(){return this.obj[t]})},Bolt.prototype.populate=function(t,e){for(e in t)void 0===this[e]&&this.screw(e),this[e]=t[e]},Bolt.prototype.renderer=function(t,e,r){t={};for(r in this.obj)e=this.obj[r],t[r]=e.renderer?e.renderer():e;return this.view(t)},Bolt.prototype.refresh=function(t){t=$(this.el),t&&(t.innerHTML=this.renderer())};var v={};for(var k in tpl)v[k]=t(tpl[k]);var blogModel;document.addEventListener("DOMContentLoaded",init,!1);