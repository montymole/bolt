function Bolt(t,e,n){this.obj=t,this.view=e,this.el=n;for(var i in t)this.screw(i);this.refresh()}function init(){myBoltModel=new Bolt({title:"Bolting it together",content:"Keep It Simple Stupid",link:"http://fi.wikipedia.org/wiki/KISS-periaate"},views.simple,$("#app")),alert("now lets change it"),myBoltModel.title="Super helppoa",alert("Ok change it more"),myBoltModel.content="Super easy once the simple bolts are there!"}var lt=function(t,e,n,i){n=e.length,i="";for(var r=0;n>r;r++)i+=v[t](e[r]);return i},t=function(t,e){return function(n,i){return t.replace(/#{([^}]*)}/g,function(t,r){return Function("x","with(x)return "+r).call(n,i||e||{})})}},s=function(t,e){return e?{get:function(n){return t[n]&&e.parse(t[n])},set:function(n,i){t[n]=e.stringify(i)}}:{}}(this.localStorage||{},JSON),p=function(t,e,n,i){n=n||document,i=n[e="on"+e],t=n[e]=function(r){return i=i&&i(r=r||n.event),(t=t&&e(r))?e:i},n=this},m=function(t,e,n){for(e=document,n=e.createElement("p"),n.innerHTML=t,t=e.createDocumentFragment();e=n.firstChild;)t.appendChild(e);return t},$=function(t,e){return t=t.match(/^(\W)?(.*)/),(e||document)["getElement"+(t[1]?"#"==t[1]?"ById":"sByClassName":"sByTagName")](t[2])},$A=function(t,e,n){for(;e.length;)n=e.shift(),t[n]=$("#"+n)},j=function(t){for(t=0;4>t;t++)try{return t?new ActiveXObject([,"Msxml2","Msxml3","Microsoft"][t]+".XMLHTTP"):new XMLHttpRequest}catch(e){}},tpl={simple:'<div id="#{this.id}"><h1>#{this.title}</h1><p>#{this.content}</p><a href="#{this.link}">#{this.link}</a></div>'};Bolt.prototype.screw=function(t){this.__defineSetter__(t,function(e){this.obj[t]=e,this.refresh()}),this.__defineGetter__(t,function(){return obj[t]})},Bolt.prototype.refresh=function(){this.el.innerHTML=this.view(this.obj)};var views={};for(var k in tpl)views[k]=t(tpl[k]);var myBoltModel;document.addEventListener("DOMContentLoaded",init,!1);