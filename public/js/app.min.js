function Bolt(t,e,i){this.obj=t,this.view=e,this.el=i;for(var n in t)this.screw(n);this.refresh()}function init(){myBoltModel=new Bolt({title:"Bolting it together",content:"Keep It Simple Stupid",link:"http://fi.wikipedia.org/wiki/KISS-periaate",subitem:new Bolt({id:"subitem",title:"Sub bolt",content:"Should be possible",link:"#yeah_right"},v.simple,"#subitem")},v.simple,"#app"),alert("now lets change it"),myBoltModel.title="Super helppoa",alert("Ok change sub bolt"),myBoltModel.subitem.title="Subitem title changed",alert("Ok change it more"),myBoltModel.content="Super easy once the simple bolts are there!"}var lt=function(t,e,i,n){i=e.length,n="";for(var r=0;i>r;r++)n+=v[t](e[r]);return n},t=function(t,e){return function(i,n){return t.replace(/#{([^}]*)}/g,function(t,r){return Function("x","with(x)return "+r).call(i,n||e||{})})}},$=function(t,e){return t=t.match(/^(\W)?(.*)/),(e||document)["getElement"+(t[1]?"#"==t[1]?"ById":"sByClassName":"sByTagName")](t[2])},$A=function(t,e,i){for(;e.length;)i=e.shift(),t[i]=$("#"+i)},j=function(t){for(t=0;4>t;t++)try{return t?new ActiveXObject([,"Msxml2","Msxml3","Microsoft"][t]+".XMLHTTP"):new XMLHttpRequest}catch(e){}},tpl={simple:'<div id="#{this.id}"><h1>#{this.title}</h1><p>#{this.content}</p><a href="#{this.link}">#{this.link}</a> #{this.subitem}</div>'};Bolt.prototype.screw=function(t){this.__defineSetter__(t,function(e){this.obj[t]=e,this.refresh()}),this.__defineGetter__(t,function(){return this.obj[t]})},Bolt.prototype.renderer=function(){var t,e={};for(var i in this.obj)t=this.obj[i],e[i]=t.renderer?t.renderer():t;return this.view(e)},Bolt.prototype.refresh=function(){var t=$(this.el);t&&(t.innerHTML=this.renderer())};var v={};for(var k in tpl)v[k]=t(tpl[k]);var myBoltModel;document.addEventListener("DOMContentLoaded",init,!1);